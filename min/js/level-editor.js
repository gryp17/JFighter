function LevelEditor(t){var e=this;this.container=t,this.backgroundContainer=this.container.find(".background-container"),this.controlsContainer=this.container.find(".controls-container"),this.controls=this.container.find(".controls"),this.dragging=!1,this.draggedObject,this.init=function(){$(window).resize(function(){e.showControlsContainer()}),this.backgroundContainer.on("mousewheel",function(t){var e=$(document).scrollLeft();$(document).scrollLeft(e+40*t.deltaY),t.preventDefault()}),$(".theme").change(function(){e.setLevelTheme($(this).val())}),this.controls.find(".game-object").mousedown(function(t){e.draggedObject=$(this).clone(),e.draggedObject.css({position:"absolute"}),e.draggedObject.css({top:t.pageY,left:t.pageX}),$("body").append(e.draggedObject),e.dragging=!0,t.preventDefault()}),$("body").mouseup(function(t){if(e.dragging){if(t.pageY>e.backgroundContainer.height())return;e.draggedObject.css({top:t.pageY,left:t.pageX}),e.draggedObject.appendTo(e.backgroundContainer),e.draggedObject=null,e.dragging=!1,console.log(t.pageX+" --- "+t.pageY)}}),this.container.mousemove(function(t){e.dragging&&e.draggedObject.css({top:t.pageY,left:t.pageX})}),$(".save-level-button").click(function(){var t=[],n=e.backgroundContainer.find(".game-object");n.each(function(){var e=$(this),n=e.offset(),o=n.left,i=n.top,a=620,r=768,s=r-a;i-=s,t.push({objectType:e.attr("data-object"),arguments:{x:o,y:i}})}),console.log(t)}),this.showControlsContainer()},this.showControlsContainer=function(){this.controlsContainer.css("width",$(window).width()),this.controlsContainer.fadeIn(500)},this.setLevelTheme=function(t){var e="img/levels/",n=".jpg";this.backgroundContainer.css({backgroundImage:"url("+e+t+n+")"})}}var editor=new LevelEditor($("#container"));editor.init();